# crawl-agent

åŸºäº LLM çš„æ™ºèƒ½çˆ¬è™«å‘½ä»¤è¡Œå·¥å…·ï¼Œé€šè¿‡è‡ªç„¶è¯­è¨€æŒ‡ä»¤å®Œæˆç½‘é¡µæ•°æ®çˆ¬å–ã€çŸ¥è¯†é—®ç­”å’Œæ•°æ®ç®¡ç†ã€‚

## ç‰¹æ€§

- ğŸ•·ï¸ **æ™ºèƒ½çˆ¬å–**: é€šè¿‡è‡ªç„¶è¯­è¨€æè¿°çˆ¬å–ç›®æ ‡ï¼ŒLLM è‡ªåŠ¨è¯†åˆ«å’Œä¸‹è½½æ•°æ®é›†
- ğŸ’¬ **çŸ¥è¯†é—®ç­”**: åŸºäºæœ¬åœ°ç´¢å¼•å›ç­”å…³äºå·²çˆ¬å–æ•°æ®é›†çš„é—®é¢˜
- ğŸ“ **æ•°æ®ç®¡ç†**: è‡ªç„¶è¯­è¨€ç®¡ç†æ•°æ®æ–‡ä»¶ï¼ˆç§»åŠ¨ã€å¤åˆ¶ã€åˆ é™¤ï¼‰
- ğŸ”’ **å®‰å…¨æ§åˆ¶**: å‘½ä»¤ç™½åå•æœºåˆ¶ï¼Œé˜²æ­¢å±é™©æ“ä½œ

## å®‰è£…

### æ–¹å¼ä¸€ï¼šä½¿ç”¨å®‰è£…è„šæœ¬

```bash
# Linux/macOS
chmod +x build.sh
./build.sh

# Windows (Git Bash)
bash build.sh
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…

```bash
# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows
venv\Scripts\activate
# Linux/macOS
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å®‰è£… crawl-agent
pip install -e .
```

### é…ç½® API Key

å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶å¡«å…¥ä½ çš„ API Keyï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```
LLM_API_KEY=your_dashscope_api_key_here
```

## ä½¿ç”¨æ–¹æ³•

### çˆ¬å–æ•°æ®

```bash
crawl-agent crawl "ä» https://snap.stanford.edu/data/ çˆ¬å–æ‰€æœ‰ç¤¾äº¤ç½‘ç»œæ•°æ®é›†ï¼Œä¿å­˜åˆ° dataset/snap"
```

### çŸ¥è¯†é—®ç­”

```bash
crawl-agent ask "DBLP æ•°æ®é›†æœ‰å¤šå°‘èŠ‚ç‚¹å’Œè¾¹ï¼Ÿ"
```

### æ•°æ®ç®¡ç†

```bash
# åˆ—å‡ºæ‰€æœ‰æ•°æ®é›†
crawl-agent manage "åˆ—å‡ºæ‰€æœ‰æ•°æ®é›†"

# ç§»åŠ¨æ•°æ®
crawl-agent manage "æŠŠ snap çš„æ•°æ®ç§»åŠ¨åˆ° /data/graphs/"

# åˆ é™¤æ•°æ®
crawl-agent manage "åˆ é™¤ DBLP æ•°æ®é›†"
```

## é¡¹ç›®ç»“æ„

```
crawl-agent/
â”œâ”€â”€ crawl_agent/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ cli.py                 # å‘½ä»¤è¡Œå…¥å£
â”‚   â”œâ”€â”€ handlers/
â”‚   â”‚   â”œâ”€â”€ crawl.py           # çˆ¬å–å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ ask.py             # é—®ç­”å¤„ç†å™¨
â”‚   â”‚   â””â”€â”€ manage.py          # ç®¡ç†å¤„ç†å™¨
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ llm.py             # LLM å®¢æˆ·ç«¯å°è£…
â”‚   â”‚   â”œâ”€â”€ web.py             # ç½‘ç»œè¯·æ±‚å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ terminal.py        # å‘½ä»¤æ‰§è¡Œå™¨
â”‚   â”‚   â””â”€â”€ index.py           # æ•°æ®ç´¢å¼•ç®¡ç†
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ display.py         # ç»ˆç«¯è¾“å‡ºç¾åŒ–
â”‚       â””â”€â”€ html_cleaner.py    # HTML æ¸…æ´—å·¥å…·
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ index.json             # æ•°æ®é›†ç´¢å¼•
â”‚   â”œâ”€â”€ crawl_history.json     # çˆ¬å–å†å²
â”‚   â””â”€â”€ datasets/              # æ•°æ®é›†å­˜å‚¨ç›®å½•
â”œâ”€â”€ .allowed-commands          # å‘½ä»¤ç™½åå•
â”œâ”€â”€ .env                       # ç¯å¢ƒå˜é‡
â”œâ”€â”€ build.sh                   # å®‰è£…è„šæœ¬
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

## è®¾è®¡åŸåˆ™

- **LLM åªè´Ÿè´£å†³ç­–**ï¼šç†è§£æ„å›¾ã€åˆ†æå†…å®¹ã€åšå‡ºé€‰æ‹©
- **ä»£ç è´Ÿè´£æ‰§è¡Œ**ï¼šç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶æ“ä½œã€æ•°æ®å­˜å‚¨
- **çŠ¶æ€ç®¡ç†ç”¨æ–‡ä»¶ç³»ç»Ÿå’Œ JSON**ï¼šä¸ä½¿ç”¨æ•°æ®åº“
- **ä¸ä½¿ç”¨ Agent æ¡†æ¶**ï¼šLLM å°±æ˜¯æ™®é€šçš„å‡½æ•°è°ƒç”¨

## é…ç½®è¯´æ˜

### LLM é…ç½®

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®ï¼š

```
LLM_API_KEY=your_api_key
LLM_MODEL=qwen-flash
LLM_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
```

### å‘½ä»¤ç™½åå•

ç¼–è¾‘ `.allowed-commands` æ–‡ä»¶æ·»åŠ å…è®¸æ‰§è¡Œçš„ shell å‘½ä»¤ã€‚

## é”™è¯¯å¤„ç†

- **ç½‘ç»œé”™è¯¯**: è‡ªåŠ¨é‡è¯•åè·³è¿‡ï¼Œç»§ç»­å…¶ä»–ä»»åŠ¡
- **LLM æ ¼å¼é”™è¯¯**: é‡è¯• 1 æ¬¡ï¼Œå¤±è´¥åˆ™è·³è¿‡
- **æ–‡ä»¶æ“ä½œé”™è¯¯**: æ˜¾ç¤ºé”™è¯¯ï¼Œè¯¢é—®æ˜¯å¦ç»§ç»­
- **Ctrl+C**: ä¿å­˜å½“å‰çŠ¶æ€ï¼Œä¼˜é›…é€€å‡º

## License

MIT
